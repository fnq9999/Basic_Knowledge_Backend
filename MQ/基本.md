MQ
====

### 为什么用MQ
- 异步
  - 适用于需要过一段时间在处理的任务，实时性不是很高
- 解耦
    - 就算一个系统挂了，也只是消息加压在mq里面，没人消费，不会对其他系统产生影响
- 削峰填谷

### 消息队列什么时候会丢失消息
- ![](.基本_images/809f5c59.png)
  - 生产者发Mq：网络抖动，本次网络通信失败
  - mq存消息：mq接受了消息之后，没来得及处理，就宕机了，丢失，在消息刷入磁盘之前宕机，都有可能失效。
  - 消费消息：消息没来得及处理，消费者宕机了
- 消息一致性


  

  


